<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/">
  <head>
    <title>Projects - ${offering.subject.name}</title>
  </head>
  <body>
    <py:def function="project_url(offering, project)">/subjects/${offering.subject.short_name}/${offering.semester.year}/${offering.semester.semester}/+project/${project.short_name}</py:def>
    <h1>${offering.subject.name} - Projects</h1>
    <div id="ivle_padding">
      <ul id="projectset_list">
        <py:for each="projectset in offering.project_sets">
          <li id="projectset_${projectset.id}">
            <h3>ProjectSet</h3>
            <p>Max Size Per Group: ${projectset.max_students_per_group}</p>
            <ul id="projects_${projectset.id}">
              <py:for each="project in projectset.projects">
                <li id="project_${project.id}">
                  <a href="${project_url(offering, project)}"><h4>${project.short_name} - ${project.name}</h4></a>
                  <p>${project.synopsis}</p>
                </li>
              </py:for>
              <li>
                <a>Add new project</a>
                <div id="new_project_${projectset.id}">
                  <p>TODO: Write the add project code</p>
                </div>
              </li>
            </ul>
          </li>
        </py:for>
        <li id="add_projectset">
          <a>Add a new projectset</a>
          <div id="new_projectset_div">
            <form>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </body>
</html>
