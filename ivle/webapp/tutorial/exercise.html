<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/" py:strip="">
  <div class="exercise" id="exercise${exerciseid}">
    <p><b>Exercise:</b> ${exercisename}</p>
    <py:if test="exercisedesc is not None">
      <div>${exercisedesc}</div>
    </py:if>
    <input id="input_resettext_exercise${exerciseid}" type="hidden" value="${exercisepartial_backup}" />
    <textarea id="textarea_exercise${exerciseid}" class="exercisebox"
        onkeypress="return catch_textbox_input(&quot;exercise${exerciseid}&quot;, '${filename}',
        event.keyCode)"
        onchange="set_saved_status(&quot;exercise${exerciseid}&quot;, '${filename}',
        &quot;Save&quot;)"
        cols="80" rows="${rows}">${exercisepartial}</textarea>
    <div class="exercisebuttons">
      <input type="button" value="Saved" disabled="disabled" id="savebutton_exercise${exerciseid}"
          onclick="saveexercise(&quot;exercise${exerciseid}&quot;, '${filename}')"
          title="Save your solution to this exercise" />
      <input type="button" value="Reset" id="resetbutton_exercise${exerciseid}"
          onclick="resetexercise(&quot;exercise${exerciseid}&quot;, '${filename}')"
          title="Reload the original partial solution for this exercise" />
      <input type="button" value="Run"
          onclick="runexercise(&quot;exercise${exerciseid}&quot;, '${filename}')"
          title="Run this program in the console" />
      <input type="button" value="Submit"
              id="submitbutton_exercise${exerciseid}"
              onclick="submitexercise(&quot;exercise${exerciseid}&quot;, '${filename}')"
              title="Submit this solution for evaluation" />
    </div>
    <div class="testoutput">
    </div>
    <div class="problem_summary">
      <ul>
        <li id="summaryli_exercise${exerciseid}" class="${complete_class}">
          <b><span id="summarycomplete_exercise${exerciseid}">${complete}</span>.</b>
            Attempts: <span id="summaryattempts_exercise${exerciseid}">${attempts}</span>.
        </li>
      </ul>
    </div>
    <!-- This is filled in by javascript when the page loads -->
    <div class="attempthistory">
      <p>
        <a title="Click to view previous submissions you have made for this exercise" 
              onclick="open_previous(&quot;exercise${exerciseid}&quot;, '${filename}')">
          View previous attempts
        </a>
      </p>
    <div style="display: none">
      <h3>Previous attempts</h3>
        <p>
          <a title="Close the previous attempts" onclick="close_previous(&quot;exercise${exerciseid}&quot;)">
            Close attempts
          </a>
        </p>
        <p>
          <select title="Select an attempt's time stamp from the list">
            <option></option>
          </select>
          <input type="button" value="View"
              onclick="select_attempt(&quot;exercise${exerciseid}&quot;, '${filename}')" />
        </p>
        <p>
          <textarea readonly="readonly" class="exercisebox" cols="80" rows="${rows}"
              title="You submitted this code on a previous attempt">
          </textarea>
        </p>
      </div>
    </div>
  </div>
</html>
