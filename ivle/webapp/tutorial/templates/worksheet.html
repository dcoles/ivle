<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:py="http://genshi.edgewall.org/">
  <head>
    <title>${worksheet.name} - ${subject.name}</title>
    <!-- These let the javascript know which worksheet is open -->
    <script type="text/javascript">
        subject = "${subject.short_name}";
        worksheet = "${worksheet.identifier}";
        year = "${year}";
        semester = "${semester}";
    </script>
  </head>
  <body>
    <py:def function="offering_url(offering)">/subjects/${offering.subject.short_name}/${offering.semester.year}/${offering.semester.semester}</py:def>
    <h1>${worksheet.name} in ${subject.name}</h1>
    <div id="ivle_padding">
      <div class="contextactions" py:if="'edit' in worksheet.get_permissions(user, config)">
        <a class="editaction" href="${offering_url(worksheet.offering)}/+worksheets/${worksheet.identifier}/+edit">Edit this worksheet</a>
      </div>
      <!-- Display the Table Of Contents -->
      <div id="tutorial-toc">
        <h2>Contents</h2>
        <ul>
          <py:for each="exercise in exercises">
            <li class="${exercise['complete']}" id="toc_li_${exercise['exid']}">
              <a href="#${exercise['exid']}">
                ${exercise.name}
              </a>
            </li>
          </py:for>
        </ul>
      </div>
      ${worksheetstream}
    </div>
  </body>
</html>
